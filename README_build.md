# `Nuget Packager :` 

## Description
___________________________

> simple "framework" for creating nupkg  (Nuget Package)



## Requirements
_____________________________
> for this to work it needs to have the following folder/files structure:
.
├── docker-compose-build.yml
├── main.yml
├── Makefile
├── PricingDefinitions
├── PricingDefinitions.nuspec
├── PricingDefinitions.sln
└── .env

* `docker-compose-build.yml`: the sln will be compiled using Docker (autobytel/hyperfastcgi:1.0) base image
*      compose file uses two main variables, 
      - OUTPUT_DIR: specifies were the compile task should output the binaries (dlls), please take note for `DefintionName.nuspec` file modification. 

      - SRC_CODE_DIR: specifies to Docker container where it should find the solution and all the code necessary to generate the binaries.
       
     *Note:* _we set ${OUTPUT_DIR} & ${SRC_CODE_DIR} via .env file_
* `main.yml`: Ansible playbook that will call the respective role, this will only be used in Jenkins
* `Makefile`: this makefile will generate two things: bin/*.dlls and the nupkg. Makefile is a wrapper over docker-compose and nuget pack 
* `DefintionName`: folder with all the development team source folder
* `DefintionName.nuspec`: nuspec xml generated by dev-team, note that the following section is necessary for it to work.
*      
      <releaseNotes>
      Library was created 
      BUILD_DATE: $BUILD_DATE$
      GIT_REPO: $GIT_REPO$
      GIT_COMMIT: $GIT_COMMIT$
      BUILD_TAG: $BUILD_TAG$
      </releaseNotes>
      . . . .
      <file src ="bin\DefintionName.dll ... 

    `Notes`: _we userelease notes parameters to define nupkg metadata_
*    `DefintionName.sln`: .net solution for source code.
*    `.env`: specifies all project dependent variables, this is used by Makefile and docker-compose-build files.




## Usage 
_____________________________
##### get some target help (specific to this project )
```
make help
```
##### generate bin/ and *.nupkg
```
make
```
##### generate bin/ (dlls)
```
make compile
```
##### generate  *.nupkg
```
make package
```
##### generate build information
```
make info
```






