[home](../README.md)


# Purpose

Used to pack the binaries generated by compiler service into a Docker image with label-schema included.

# Requirements
Builders need a few more things than a compiler, they need a Dockerfile,  build-args and again environment variables


#### - [Dockerfile](./dockerfile.md) and build-args
see how simple the Dockerfile can get [here](./dockerfile.md)


#### - environment variables 
- `IMAGE:` 
- `VERSION:` 
- `BIN_PATH:` if the compiler outputs a static binary or a new folder, you can set where the ouput should be kept.

###### Notes
> some build-args are passed via [Makefile](./makefile.md), like: 
> - GIT_COMMIT
> - GIT_BRANCH
> - GIT_REPO 
> - BUILD_DATE
> - BUILD_TAG.


# Usage

simply copy paste this snippet into your `docker-compose-build.yml`

```bash
service_docker_image:
    image: "${IMAGE}:${VERSION}"
    depends_on:
      - compiler
    entrypoint:
      - bash
    build:
      context: .
      args:
        BIN_PATH: ${BIN_PATH}
        GIT_COMMIT: ${GIT_COMMIT}
        GIT_BRANCH: ${GIT_BRANCH}
        GIT_REPO: ${GIT_REPO}
        VERSION: ${VERSION}
        BUILD_DATE: ${BUILD_DATE}
        BUILD_TAG: ${BUILD_TAG}   

    labels:
      - image
```




# Examples


#### Notes
